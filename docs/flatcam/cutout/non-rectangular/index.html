<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Non-Rectangular Board Shape # While FlatCAM has a fairly simple method for cutting a board outline based on the extents of the board&rsquo;s traces (see Rectangular Board Cutout), that method doesn&rsquo;t allow for cutting non-rectangular PCBs. The process below uses the board outline Gerber file that you exported earlier to create toolpaths for any board shape. Unfortunately, it requires an extra step of editing the finished .nc file. Note that this process can be used for rectangular boards, as well."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="Non-Rectangular"><meta property="og:description" content="Non-Rectangular Board Shape # While FlatCAM has a fairly simple method for cutting a board outline based on the extents of the board&rsquo;s traces (see Rectangular Board Cutout), that method doesn&rsquo;t allow for cutting non-rectangular PCBs. The process below uses the board outline Gerber file that you exported earlier to create toolpaths for any board shape. Unfortunately, it requires an extra step of editing the finished .nc file. Note that this process can be used for rectangular boards, as well."><meta property="og:type" content="article"><meta property="og:url" content="https://rahji.github.io/pcbmilling/docs/flatcam/cutout/non-rectangular/"><meta property="article:section" content="docs"><title>Non-Rectangular | PCB Prototyping</title><link rel=manifest href=/pcbmilling/manifest.json><link rel=icon href=/pcbmilling/favicon.png type=image/x-icon><link rel=stylesheet href=/pcbmilling/book.min.c58292d36b18b675680ab9baea2029204537b839ea72f258746ec0f32ce8d6c8.css integrity="sha256-xYKS02sYtnVoCrm66iApIEU3uDnqcvJYdG7A8yzo1sg=" crossorigin=anonymous></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/pcbmilling/><span>PCB Prototyping</span></a></h2><ul><li class=book-section-flat><span>Creating Gerber & Drill Files</span><ul><li><a href=/pcbmilling/docs/gerbers/diptrace/>Using DipTrace</a></li><li><a href=/pcbmilling/docs/gerbers/eagle/>Using Autodesk Eagle</a></li></ul></li><li class=book-section-flat><span>Generating G-code</span><ul><li><a href=/pcbmilling/docs/flatcam/installing/>Installing FlatCAM</a></li><li><a href=/pcbmilling/docs/flatcam/configuring/>Configuring FlatCAM</a></li><li><a href=/pcbmilling/docs/flatcam/basics/>FlatCAM Basics</a></li><li><a href=/pcbmilling/docs/flatcam/traces/>ðŸ“ˆ Traces</a></li><li><input type=checkbox id=section-32abd8ed51c2cb82699d212edd0c63fe class=toggle>
<label for=section-32abd8ed51c2cb82699d212edd0c63fe class="flex justify-between"><a role=button>â­• Holes</a></label><ul><li><a href=/pcbmilling/docs/flatcam/holes/milling/>Milling Holes</a></li><li><a href=/pcbmilling/docs/flatcam/holes/drilling/>Drilling Holes</a></li></ul></li><li><input type=checkbox id=section-7754826257fa51719f4d6a7aec7d08b4 class=toggle checked>
<label for=section-7754826257fa51719f4d6a7aec7d08b4 class="flex justify-between"><a role=button>ðŸ“‰ Board Cutout</a></label><ul><li><a href=/pcbmilling/docs/flatcam/cutout/rectangular/>Rectangular</a></li><li><a href=/pcbmilling/docs/flatcam/cutout/non-rectangular/ class=active>Non-Rectangular</a></li></ul></li></ul></li><li class=book-section-flat><span>Verifying G-code</span><ul><li><a href=/pcbmilling/docs/gcode/viewing/>Viewing G-code</a></li><li><a href=/pcbmilling/docs/gcode/editing/>Editing G-code</a></li></ul></li><li class=book-section-flat><span>Milling</span><ul><li><a href=/pcbmilling/docs/milling/preparing/>Preparing to Mill</a></li><li><a href=/pcbmilling/docs/milling/mountingpcb/>Mounting PCB</a></li><li><a href=/pcbmilling/docs/milling/zeroing/>Zeroing Axes</a></li></ul></li><li class=book-section-flat><a href=/pcbmilling/docs/definitions/>Definitions</a><ul></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/pcbmilling/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Non-Rectangular</strong>
<label for=toc-control><img src=/pcbmilling/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#non-rectangular-board-shape>Non-Rectangular Board Shape</a><ul><li><a href=#open-gerber>Open Gerber</a></li><li><a href=#generate-geometry>Generate Geometry</a></li><li><a href=#generate-cnc-job>Generate CNC Job</a></li><li><a href=#export-g-code>Export G-code</a></li><li><a href=#edit-g-code>Edit G-code</a></li></ul></li></ul></nav></aside></header><article class=markdown><h2 id=non-rectangular-board-shape>Non-Rectangular Board Shape
<a class=anchor href=#non-rectangular-board-shape>#</a></h2><p>While FlatCAM has a fairly simple method for cutting a board outline based on the extents of the board&rsquo;s traces (see <a href=../../cutout/rectangular>Rectangular Board Cutout</a>), that method doesn&rsquo;t allow for cutting non-rectangular PCBs. The process below uses the board outline Gerber file that you exported earlier to create toolpaths for any board shape. Unfortunately, it requires an extra step of editing the finished <code>.nc</code> file. Note that this process can be used for rectangular boards, as well.</p><p>The process of creating an <code>.nc</code> file for cutting out the finished <em>non-rectangular</em> PCB looks like this:</p><script src=/pcbmilling/mermaid.min.js></script>
<script>mermaid.initialize({flowchart:{useMaxWidth:!0},theme:"default"})</script><p style=margin-top:30px;margin-bottom:30px class=mermaid>graph LR
A[Open Board<br>Outline Gerber]-->|.gbr|B[Generate<br>Geometry]
B-->|.gbr_iso|C[Generate<br>CNC Job]
C-->|.gbr_iso_cnc|D[Export<br>G-code]
D-->|.nc file|E[Edit<br>G-code]</p><h3 id=open-gerber>Open Gerber
<a class=anchor href=#open-gerber>#</a></h3><ol><li>Choose <code>File | Open Gerber</code>, then select the Gerber file for the board cutout</li></ol><h3 id=generate-geometry>Generate Geometry
<a class=anchor href=#generate-geometry>#</a></h3><ol><li>Under &ldquo;Board Cutout&rdquo;, verify that the &ldquo;Tool dia&rdquo; matches what was entered in <a href=../../flatcam/configuring>Configuring FlatCAM</a> (1.5875 mm, 1/16" is a good choice for cutting out the board)</li><li>Optionally adjust the &ldquo;Margin&rdquo;, &ldquo;Gap Size&rdquo;, and &ldquo;Gaps&rdquo;</li><li>Set &ldquo;Width (# of passes)&rdquo; to 1</li><li>Click the &ldquo;Generate Geometry&rdquo; button under &ldquo;Board cutout&rdquo;</li></ol><p>The red paths that are generated will be followed by the tools that we define in the next step. Note that there are two paths. We will remedy by editing the <code>.nc</code> file at the end.</p><h3 id=generate-cnc-job>Generate CNC Job
<a class=anchor href=#generate-cnc-job>#</a></h3><ol><li>In the &ldquo;Project&rdquo; tab, double-click the <code>.gbr_cutout</code> list item</li><li>Change the values in the &ldquo;Create CNC Job&rdquo; section:<ul><li>Cut Z: -1.7 <em>(the thickness of the PCB blank)</em></li><li>Travel Z: 2.0 <em>(how high to raise the end mill when it&rsquo;s not cutting)</em></li><li>Feed Rate: 90 <em>(mm/min)</em></li><li>Tool dia: 1.5875 <em>(1/16" flat end mill)</em></li></ul></li><li>Tick the &ldquo;Multi-Depth&rdquo; checkbox and set &ldquo;Depth/pass&rdquo; to <strong>one third</strong> of the &ldquo;Cut Z&rdquo; value. (0.57 in our case.) This will require <strong>three</strong> passes for each of the cuts, which can make the job easier on the machine and the bit.</li><li>Click the &ldquo;Generate&rdquo; button under &ldquo;Create CNC Job&rdquo;</li></ol><p>The blue paths that are generated are the areas of the board that will be cut by the tool we just specified. Again, note that there are two paths. We will remedy by editing the <code>.nc</code> file at the end.</p><blockquote style=margin-top:30px class="book-hint info">If the placement or quantity of tabs does not look correct, you will need to restart the above process and delete any outdated geometries from the &ldquo;Project&rdquo; list afterward. Enabling and disabling plots via the <code>View</code> menu, or by ticking the &ldquo;Plot&rdquo; checkbox in individual geometries, can be helpful in identifying which geometries are which.</blockquote><h3 id=export-g-code>Export G-code
<a class=anchor href=#export-g-code>#</a></h3><ol><li>In the &ldquo;Project&rdquo; tab, double-click the <code>.gbr_cutout_cnc</code> list item</li><li>Click the &ldquo;Export G-Code&rdquo; button</li><li>Select a destination folder for the file and give it a name that includes the bit to be used for this job. For example, <code>cutout_1_16_flat.nc</code></li></ol><h3 id=edit-g-code>Edit G-code
<a class=anchor href=#edit-g-code>#</a></h3><p>Because the <code>.nc</code> file you just created includes two cuts, with one being offset from the other, the file will need to be edited to remove the unwanted <em>inner</em> shape.</p><ol><li>Open the <code>cutout_1_16_flat.nc</code> file in the <a href=https://ncviewer.com/>NC Viewer website</a></li><li>Delete the G-code lines <em>below</em> the <code>G4 P1</code> command, up to and <em>including</em> the <code>G00 Z2.0000</code> command below</li><li>Click the &ldquo;PLOT&rdquo; button to update the 3D preview</li><li>Verify the remaining G-code by scrolling through the lines, from top to bottom, using the down arrow</li><li>Save the edited file as <code>cutout_1_16_flat_edited.nc</code></li></ol><blockquote style=margin-top:30px class="book-hint warning">Note that the remaining geometry is offset from the original board outline defined in the Gerber file. This may result in rounded corners instead of sharp corners.</blockquote></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#non-rectangular-board-shape>Non-Rectangular Board Shape</a><ul><li><a href=#open-gerber>Open Gerber</a></li><li><a href=#generate-geometry>Generate Geometry</a></li><li><a href=#generate-cnc-job>Generate CNC Job</a></li><li><a href=#export-g-code>Export G-code</a></li><li><a href=#edit-g-code>Edit G-code</a></li></ul></li></ul></nav></div></aside></main></body></html>